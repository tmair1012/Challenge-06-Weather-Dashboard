<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" />
    <title>Weather Dashboard</title>
    <style rel='stylesheet' href='assets/css/style.css'></style>
</head>

<body>

    <!--Create Header-->
    <header class='dashBoardHead'>
        <p>Weather Dashboard</p>
    </header>

    <!--Create main div-->
    <main class='mainContainer'>

        <!--Container Div for grid-->
        <div id='container' class='weatherMain'>
            <div class='row'>

                <div class='col-sm-12' class='searchText'>
                    <p class='searchText'>Search By City:</p>
                </div>

            </div>
            <!--Search Bar-->
            <div class='row'>
                <div class='col-sm-12'>

                    <input id='searchBar' type='text' value='' />
                    <!--Search Button-->
                    <button onclick='weatherStats()'>Search</button>



                </div>
            </div>
            <!--Austin Button-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='austinBtn' class='cityBtn'>
                        <p>Austin</p>
                    </button>
                </div>
            </div>
            <!--Chi-Town Button-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='chiBtn' class='cityBtn'>
                        <p>Chi-Town</p>
                    </button>
                </div>
            </div>
            <!--New York Button-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='nyBtn' class='cityBtn'>
                        <p>New York</p>
                    </button>
                </div>
            </div>
            <!--Orlando Button-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='orlandoBtn' class='cityBtn'>
                        <p>Orlando</p>
                    </button>
                </div>
            </div>
            <!--San Fran Button-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='sfBtn' class='cityBtn'>
                        <p>San Francisco</p>
                    </button>
                </div>
            </div>
            <!--Seattle-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='seattleBtn' class='cityBtn'>
                        <p>Seattle</p>
                    </button>
                </div>
            </div>
            <!--Denver Button-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='denverBtn' class='cityBtn'>
                        <p>Denver</p>
                    </button>
                </div>
            </div>
            <!--Atlanta-->
            <div class='row'>
                <div class='col-sm-12' class='cityConfirm'>
                    <button id='atlantaBtn' class='cityBtn'>
                        <p>Atlanta</p>
                    </button>
                </div>
            </div>

            <!--THIS IS THE DIV FOR THE CONTAINER STOP DELETING ON ACCIDENT-->
        </div>

        <!--Div for jumbo results display-->
        <div id='jumboContainer' class='displayWeather'>
            <h1 id='jumboHead'></h1>
            <br>
            <p id='jumboStats'></p>
        </div>

        <!--five day forecast-->
        <article id='forecast' class='fiveDay'>

        </article>

        <!--Close main div-->
    </main>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <script>

        //style
        $('#container').css({ 'margin': '25px 25px 25px 25px' });
        $('.jumbo').css({ 'min-height': '400px' });
        $('.searchText').css({ 'font-size': '25px' });
        $('.dashBoardHead').css({
            'background-color': 'blue', 'margin': '15px 25px',
            'height': '40px', 'text-align': 'center', 'font-size': '40px', 'text-color': 'white'
        });
        $('#searchBtn').css({ 'width': '100%', 'min-height': '30px' });
        $('.searchBar').css({ 'width': '100%' })
        $('.cityBtn').css({ 'width': '100%', 'max-height': '30px' });
        $('#container').css({ 'max-width': '30%', 'min-height': '100%', 'display': 'inline-block', 'margin-top': '0px' });
        $('#jumboContainer').css({
            'min-width': '70%', 'min-height': '50%', 'display': 'inline-block', 'border': '1px solid black'
            , 'position': 'absolute'
        });

        //fetch current weather APIs
        function weatherStats() {
            var thisCity = document.querySelector('#searchBar').value;

            fetch('https://api.openweathermap.org/data/2.5/weather?q=' + thisCity + '&units=imperial&appid=2a7fa0b6a17413191ad7981a1cfd869c'
            )
                .then(function (weatherCall) {
                    return weatherCall.json();
                })
                .then(function (data) {
                    console.log(data.name);
                    
                    var currentTemp = data.main.temp;
                    var currentWind = data.wind.speed;
                    var currentHumidity = data.main.humidity;
                    var currentIcon = data.weather[0].icon;
                    var currentDescription = data.weather[0].description;
                    var currentName = data.name;
                    var currentDate = moment().format("MM/DD/YYYY");

                    console.log(currentTemp);

                    var currentWeatherHeader = document.querySelector('#jumboHead');
                    currentWeather.innerHTML = currentName + ' (' + currentDate + ')' + currentIcon;
                    
                    var currentWeatherStats = document.querySelector('#jumboStats');

                    //fetch 5 day forecast
                    return fetch(
                        'https://api.openweathermap.org/data/2.5/forecast?q=' + thisCity + '&units=imperial&appid=2a7fa0b6a17413191ad7981a1cfd869c'
                    );
                })
                .then(function (fiveCall) {
                    return fiveCall.json();
                })
                .then(function (fiveCall) {
                    console.log(fiveCall);





                });





        }








//my key
//2a7fa0b6a17413191ad7981a1cfd869c

    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"></script>
</body>

</html>